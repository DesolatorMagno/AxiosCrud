class Crud{constructor(t){let i={notification:{show:!0,toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3},classList:{store:"crud-store",update:"crud-update",delete:"crud-delete"}};t=t||{},this.config=i,0!==Object.getOwnPropertyNames(t).length&&(null!=t.classList&&(this.config.classList.store=t.classList.store||i.classList.store,this.config.classList.update=t.classList.update||i.classList.update,this.config.classList.delete=t.classList.delete||i.classList.delete),null!=t.notification&&(this.config.notification.show=t.notification.show||i.notification.show,this.config.notification.toast=t.notification.toast||i.notification.toast,this.config.notification.position=t.notification.position||i.notification.position,this.config.notification.showConfirmButton=t.notification.showConfirmButton||i.notification.showConfirmButton,this.config.notification.timer=t.notification.timer||i.notification.timer)),self=this}prepareCrud(){[this.config.classList.store,this.config.classList.update].forEach(function(t){let i=document.getElementsByClassName(t);for(let t=i.length-1;t>=0;--t)i[t].addEventListener("submit",self.crudInit,!1)});let t=document.getElementsByClassName(this.config.classList.delete);for(let i=t.length-1;i>=0;--i)t[i].addEventListener("click",self.crudInit,!1)}crudInit(t){const i=this.dataset.url;let o;this.classList.contains(self.config.classList.delete)?(o=new FormData,o.append("_method","DELETE")):(t.preventDefault(),o=new FormData(this),this.classList.contains(self.config.classList.update)&&o.append("_method","put")),self.crud(i,o)}crud(t,i){axios.post(t,i).then(function(t){self.config.notification.show&&self.showMensage(t.data.title,t.data.text,t.data.type)}).catch(function(t){self.config.notification.show&&self.showMensage("Advertencia","Servicio no disponible por los momentos","error")}).then(function(){})}showMensage(t,i,o){const s=Swal.mixin({toast:self.config.notification.toast,position:self.config.notification.position,showConfirmButton:self.config.notification.showConfirmButton,timer:self.config.notification.timer});s.fire({type:o,title:t,text:i})}}